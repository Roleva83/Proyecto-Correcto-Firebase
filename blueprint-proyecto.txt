# **  Ô∏è BLUEPRINT - LOLA DE CA√ëA Y RESE√ëA**

## **üìã RESUMEN EJECUTIVO**

**Ca√±a y Rese√±a** es una plataforma SaaS integral para la gesti√≥n de reputaci√≥n y automatizaci√≥n de restaurantes y negocios gastron√≥micos. La aplicaci√≥n utiliza tecnolog√≠as modernas para proporcionar an√°lisis de rese√±as, automatizaci√≥n con IA, y herramientas de gesti√≥n empresarial.

---

## **üèõÔ∏è ARQUITECTURA GENERAL**

### **Stack Tecnol√≥gico Principal:**
- **Frontend:** React 18 + TypeScript + Vite
- **UI Framework:** Tailwind CSS + Shadcn/ui + Radix UI
- **Backend:** Supabase (PostgreSQL + Auth + Edge Functions)
- **Estado:** React Context + TanStack Query
- **Routing:** React Router DOM (HashRouter)
- **IA:** OpenAI GPT-4 + Anthropic Claude
- **Deployment:** Lovable.app (Static Hosting)

### **Patr√≥n Arquitect√≥nico:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend      ‚îÇ    ‚îÇ   Supabase      ‚îÇ    ‚îÇ   External APIs ‚îÇ
‚îÇ   (React/TS)    ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (Backend)     ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (OpenAI, etc) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## **üì¶ AN√ÅLISIS COMPLETO DE DEPENDENCIAS**

### **Dependencias Cr√≠ticas por Categor√≠a:**

#### **üîê Autenticaci√≥n y Backend:**
```json
"@supabase/supabase-js": "^2.52.0"        // Cliente principal de Supabase
"@supabase/auth-ui-react": "^0.4.7"       // UI de autenticaci√≥n
"@supabase/auth-ui-shared": "^0.1.8"      // Componentes compartidos de auth
```

#### **ü§ñ Inteligencia Artificial:**
```json
"@anthropic-ai/sdk": "^0.59.0"            // Claude AI
"openai": "^5.12.2"                       // GPT-4
"@google-cloud/local-auth": "^3.0.1"      // Google APIs
"googleapis": "^155.0.0"                  // Google My Business
```

#### **üìä Visualizaci√≥n y Charts:**
```json
"recharts": "^2.12.7"                     // Gr√°ficos y visualizaciones
"embla-carousel-react": "^8.3.0"          // Carousels
"react-day-picker": "^8.10.1"             // Selector de fechas
```

#### **üé® UI/UX Framework:**
```json
"@radix-ui/react-*"                       // 20+ componentes base
"class-variance-authority": "^0.7.1"      // Variantes de componentes
"tailwind-merge": "^2.5.2"                // Merge de clases CSS
"tailwindcss-animate": "^1.0.7"           // Animaciones
```

#### **üîÑ Estado y Formularios:**
```json
"@tanstack/react-query": "^5.56.2"        // Gesti√≥n de estado del servidor
"react-hook-form": "^7.53.0"              // Formularios
"@hookform/resolvers": "^3.9.0"           // Validaci√≥n de formularios
"zod": "^3.23.8"                          // Validaci√≥n de esquemas
```

#### **üîß Utilidades:**
```json
"axios": "^1.10.0"                        // HTTP client
"date-fns": "^3.6.0"                      // Manipulaci√≥n de fechas
"clsx": "^2.1.1"                          // Clases CSS condicionales
"cmdk": "^1.0.0"                          // Comando palette
"qrcode": "^1.5.4"                        // Generaci√≥n de QR
"speakeasy": "^2.0.0"                     // 2FA
```

---

## **üìÅ ESTRUCTURA DE DIRECTORIOS COMPLETA**

```
prueba-cana-resena/
‚îú‚îÄ‚îÄ üìÅ src/                          # C√≥digo fuente principal
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ components/               # Componentes reutilizables
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ ui/                   # Componentes base (Shadcn/ui)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ accordion.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ alert-dialog.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ avatar.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ badge.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ button.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ calendar.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ card.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ carousel.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chart.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ checkbox.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ collapsible.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ command.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ context-menu.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dialog.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ drawer.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dropdown-menu.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ form.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hover-card.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ input.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ label.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ menubar.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ navigation-menu.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pagination.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ popover.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ progress.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ radio-group.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ resizable.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scroll-area.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ select.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ separator.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sheet.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sidebar.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ skeleton.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ slider.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sonner.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ switch.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ table.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tabs.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ textarea.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ toast.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ toaster.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ toggle-group.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ toggle.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tooltip.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ auth/                 # Componentes de autenticaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthForm.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CustomAuthForm.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LogoutButton.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProtectedRoute.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PublicRoute.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ dashboard/            # Widgets del dashboard
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WidgetContainer.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WidgetSelectorModal.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ    widgets/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ AITipsWidget.tsx
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ DishesRankingWidget.tsx
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ GamificationWidget.tsx
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ LolaAlertsWidget.tsx
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ MetricsWidget.tsx
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ProgressByAreaWidget.tsx
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ReservationSourcesWidget.tsx
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ReviewsWidget.tsx
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ SalesChartWidget.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ layout/               # Componentes de layout
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AppLayout.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CookieBanner.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OnboardingTour.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Sidebar.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ lola/                 # Componentes de IA (Lola)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AutomationModal.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LolaChatCompact.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LolaChatInterface.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MoreActionsModal.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ core/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LolaEngine.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ    interface/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ LolaChat.tsx
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ LolaDashboard.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ settings/             # Componentes de configuraci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UserManagement.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ support/              # Componentes de soporte
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SupportChat.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ forms/                # Formularios especializados
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ContactForm.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ landing/              # Componentes de landing
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ AIAnalysisModule.tsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ReviewsDisplay.tsx
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ pages/                    # P√°ginas principales
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Auth/                 # P√°ginas de autenticaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ConfirmEmail.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ForgotPassword.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Register.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ActivityLog.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Auth.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Automations.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Contact.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Growth.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HelpCenter.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Index.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Integrations.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Landing.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Legal.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Lola.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LolaChat.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Marketing.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NotFound.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Reviews.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Settings.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UserPreferences.tsx
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ contexts/                 # Contextos de React
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthContext.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LolaChatContext.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ use-auth.ts
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ hooks/                    # Custom hooks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ use-mobile.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ use-toast.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAI.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useBusinessData.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useBusinessUsers.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useClientesCount.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useCurrentUserProfile.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useLolaChat.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useReputationAnalysis.ts
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ lib/                      # Utilidades y configuraciones
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ backup.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notifications.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ performance.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reports.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ supabase.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils.ts
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ types/                    # Definiciones de TypeScript
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ integrations/             # Integraciones externas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ supabase/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ client.ts
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ types.ts
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ config/                   # Configuraciones
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pricing.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ project-config.ts
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ utils/                    # Utilidades adicionales
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ chatFallback.ts
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ test/                     # Tests
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai.test.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ basic.test.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ performance.test.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pricing.test.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security.test.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ setup.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ system-verification.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ verification.ts
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ assets/                   # Assets est√°ticos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cafe-interior.jpg
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ restaurant-owner-tablet.jpg
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ restaurant-terrace.jpg
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ waiter-reviews.jpg
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx                      # Componente principal
‚îÇ   ‚îú‚îÄ‚îÄ App.css                      # Estilos del componente principal
‚îÇ   ‚îú‚îÄ‚îÄ main.tsx                     # Punto de entrada
‚îÇ   ‚îú‚îÄ‚îÄ index.css                    # Estilos globales
‚îÇ   ‚îî‚îÄ‚îÄ vite-env.d.ts                # Tipos de Vite
‚îú‚îÄ‚îÄ üìÅ supabase/                     # Configuraci√≥n de Supabase
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ migrations/               # Migraciones de BD
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 20250713214351-485678d1-65bb-4453-8b7c-592ab0f6c22e.sql
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 20250713221409-3d9583f6-1717-4013-bf99-cb72392a28aa.sql
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 20250713221447-5d6d7106-4ade-4c24-be69-b9c33c5a13f8.sql
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 20250713221518-c2d16da3-8e0d-48c2-96d7-510fc31f009a.sql
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 20250713222954-410186fe-6e34-46d7-8599-ba47c9c45d6d.sql
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 20250713223019-8a3890a6-731f-4da0-b38d-d9456489831a.sql
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 20250713225949-2703ac7f-7ea0-474b-9d58-bf689ebfdca8.sql
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 20250715211155-8df5ed83-9394-416d-8dc0-07af90de50bd.sql
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 20250718173705-fce5b0b2-2547-47d9-9b89-337e6ff2a767.sql
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 20250721112213-69582849-6c4a-487f-8028-c368808193a7.sql
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 20250808222410_99b2702b-8835-4781-9afe-6ed0095231ac.sql
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 20250808223500-security-fixes.sql
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 20250808224500-security-infra.sql
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 20250808225200-usuarios-role-guard.sql
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ functions/                # Edge Functions
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ    analyze-reputation/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ handle-contact/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ    lola-chat/
‚îÇ   ‚îî‚îÄ‚îÄ config.toml                  # Configuraci√≥n de Supabase
‚îú‚îÄ‚îÄ üìÅ database/                     # Esquemas y scripts de BD
‚îÇ   ‚îú‚îÄ‚îÄ fix-rls-policies.sql
‚îÇ   ‚îú‚îÄ‚îÄ schema.sql
‚îÇ   ‚îú‚îÄ‚îÄ setup.sql
‚îÇ   ‚îî‚îÄ‚îÄ update-businesses.sql
‚îú‚îÄ‚îÄ üìÅ scripts/                      # Scripts de utilidad
‚îÇ   ‚îú‚îÄ‚îÄ diagnose-auth.js
‚îÇ   ‚îú‚îÄ‚îÄ setup-supabase.js
‚îÇ   ‚îú‚îÄ‚îÄ test-connection.js
‚îÇ   ‚îî‚îÄ‚îÄ verify-supabase.js
‚îú‚îÄ‚îÄ üìÅ public/                       # Assets p√∫blicos
‚îÇ   ‚îú‚îÄ‚îÄ _redirects
‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico
‚îÇ   ‚îú‚îÄ‚îÄ placeholder.svg
‚îÇ   ‚îî‚îÄ‚îÄ robots.txt
‚îú‚îÄ‚îÄ üìÅ dist/                         # Build de producci√≥n
‚îú‚îÄ‚îÄ üìÅ node_modules/                 # Dependencias
‚îú‚îÄ‚îÄ package.json                     # Configuraci√≥n del proyecto
‚îú‚îÄ‚îÄ pnpm-lock.yaml                   # Lock file de pnpm
‚îú‚îÄ‚îÄ bun.lockb                        # Lock file de bun
‚îú‚îÄ‚îÄ package-lock.json                # Lock file de npm
‚îú‚îÄ‚îÄ vite.config.ts                   # Configuraci√≥n de Vite
‚îú‚îÄ‚îÄ tailwind.config.ts               # Configuraci√≥n de Tailwind
‚îú‚îÄ‚îÄ tsconfig.json                    # Configuraci√≥n de TypeScript
‚îú‚îÄ‚îÄ tsconfig.app.json                # Configuraci√≥n de TS para app
‚îú‚îÄ‚îÄ tsconfig.node.json               # Configuraci√≥n de TS para node
‚îú‚îÄ‚îÄ eslint.config.js                 # Configuraci√≥n de ESLint
‚îú‚îÄ‚îÄ vitest.config.ts                 # Configuraci√≥n de Vitest
‚îú‚îÄ‚îÄ postcss.config.js                # Configuraci√≥n de PostCSS
‚îú‚îÄ‚îÄ components.json                  # Configuraci√≥n de Shadcn/ui
‚îú‚îÄ‚îÄ index.html                       # HTML principal
‚îú‚îÄ‚îÄ env.example                      # Variables de entorno de ejemplo
‚îú‚îÄ‚îÄ README.md                        # Documentaci√≥n principal
‚îú‚îÄ‚îÄ PROYECTO_PLAN.md                 # Plan del proyecto
‚îú‚îÄ‚îÄ TECHNICAL_DOCS.md                # Documentaci√≥n t√©cnica
‚îú‚îÄ‚îÄ SUPABASE_CHECKLIST.md            # Checklist de Supabase
‚îú‚îÄ‚îÄ SUPABASE_SETUP.md                # Setup de Supabase
‚îú‚îÄ‚îÄ SETUP_CHECKLIST.md               # Checklist de setup
‚îú‚îÄ‚îÄ VERIFICATION_CHECKLIST.md        # Checklist de verificaci√≥n
‚îú‚îÄ‚îÄ prd                              # Product Requirements Document
‚îî‚îÄ‚îÄ .gitignore                       # Archivos ignorados por Git
```

---

## **‚öôÔ∏è CONFIGURACI√ìN DE BUILD Y DEPLOYMENT**

### **Vite Configuration:**
```typescript
// vite.config.ts - Configuraci√≥n cr√≠tica
import { defineConfig, ViteDevServer } from "vite";
import react from "@vitejs/plugin-react-swc";
import path from "path";
import { componentTagger } from "lovable-tagger";

export default defineConfig(({ mode }) => ({
  server: {
    host: "::",           // Acceso desde cualquier IP
    port: 8080,           // Puerto de desarrollo
  },
  plugins: [
    react(),              // Plugin de React
    mode === 'development' && componentTagger(), // Lovable component tagging
    // Plugin para manejar rutas SPA
    {
      name: 'spa-fallback',
      configureServer: (server: ViteDevServer) => {
        server.middlewares.use((req: any, res: any, next: any) => {
          // Si la ruta no es un archivo est√°tico, redirigir a index.html
          if (req.url && !req.url.includes('.') && req.url !== '/') {
            req.url = '/';
          }
          next();
        });
      },
    },
  ].filter(Boolean),
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"), // Path aliases
    },
  },
  build: {
    rollupOptions: {
      output: {
        manualChunks: undefined, // Optimizaci√≥n de chunks
      },
    },
  },
}))
```

### **Scripts de Build:**
```json
{
  "dev": "vite",                    // Desarrollo local
  "build": "vite build",            // Build de producci√≥n
  "build:dev": "vite build --mode development",
  "preview": "vite preview",        // Preview del build
  "lint": "eslint . --ext .ts,.tsx,.js,.jsx",
  "lint:fix": "eslint . --ext .ts,.tsx,.js,.jsx --fix",
  "type-check": "tsc --noEmit",
  "format": "prettier --write \"src/**/*.{ts,tsx,js,jsx,json,css,md}\"",
  "format:check": "prettier --check \"src/**/*.{ts,tsx,js,jsx,json,css,md}\"",
  "test": "vitest",
  "test:ui": "vitest --ui",
  "test:run": "vitest run",
  "test:coverage": "vitest run --coverage",
  "test:watch": "vitest --watch",
  "test:e2e": "playwright test",
  "prepare": "husky install",
  "db:generate": "supabase gen types typescript --local > src/types/supabase.ts",
  "db:push": "supabase db push",    // Push de migraciones
  "db:reset": "supabase db reset",
  "db:studio": "supabase studio",
  "functions:deploy": "supabase functions deploy",
  "functions:new": "supabase functions new"
}
```

---

## **üîê SISTEMA DE AUTENTICACI√ìN**

### **Componentes Principales:**
- **`AuthContext.tsx`** - Contexto global de autenticaci√≥n
- **`AuthForm.tsx`** - Formulario principal de login/registro
- **`CustomAuthForm.tsx`** - Formulario personalizado
- **`ProtectedRoute.tsx`** - Wrapper para rutas protegidas
- **`PublicRoute.tsx`** - Wrapper para rutas p√∫blicas
- **`LogoutButton.tsx`** - Bot√≥n de cierre de sesi√≥n

### **Flujo de Autenticaci√≥n:**
```
1. Usuario accede ‚Üí AuthProvider verifica sesi√≥n
2. Si no autenticado ‚Üí Redirige a /auth
3. Login/Registro ‚Üí Supabase Auth
4. Sesi√≥n v√°lida ‚Üí Acceso al dashboard
5. Logout ‚Üí Limpia sesi√≥n y redirige
```

### **Caracter√≠sticas:**
- ‚úÖ Registro con email/password
- ‚úÖ Magic link para login sin contrase√±a
- ‚úÖ Recuperaci√≥n de contrase√±a
- ‚úÖ Gesti√≥n de sesiones persistentes
- ‚úÖ Roles: Owner, Manager, Employee
- ‚úÖ Confirmaci√≥n de email
- ‚úÖ Protecci√≥n de rutas

---

## **üè† P√ÅGINAS PRINCIPALES DETALLADAS**

### **1. Landing Page (`/`)**
- **Archivo:** `src/pages/Landing.tsx` (23KB, 433 l√≠neas)
- **Prop√≥sito:** P√°gina de aterrizaje para nuevos usuarios
- **Componentes:** 
  - Hero section con CTA
  - Features destacadas
  - Pricing plans
  - Testimonials
  - AIAnalysisModule
  - ReviewsDisplay
- **Funcionalidades:** 
  - Formulario de contacto
  - Demo interactivo
  - Navegaci√≥n a registro

### **2. Dashboard (`/dashboard`)**
- **Archivo:** `src/pages/Dashboard.tsx` (60KB, 1482 l√≠neas)
- **Prop√≥sito:** Panel principal de control
- **Widgets Implementados:**
  - MetricsWidget - KPIs principales
  - ReviewsWidget - Rese√±as recientes
  - SalesChartWidget - Gr√°ficos de ventas
  - AITipsWidget - Recomendaciones de IA
  - LolaAlertsWidget - Alertas proactivas
  - GamificationWidget - Sistema de puntos
  - DishesRankingWidget - Ranking de platos
  - ProgressByAreaWidget - Progreso por √°reas
  - ReservationSourcesWidget - Fuentes de reservas
- **Funcionalidades:**
  - Widgets configurables
  - Drag & drop para reorganizar
  - Filtros por per√≠odo
  - Exportaci√≥n de datos

### **3. Reviews (`/reviews`)**
- **Archivo:** `src/pages/Reviews.tsx` (8.6KB, 239 l√≠neas)
- **Prop√≥sito:** Gesti√≥n de rese√±as y reputaci√≥n
- **Funcionalidades:**
  - Visualizaci√≥n de rese√±as por plataforma
  - An√°lisis de sentimiento
  - Respuestas autom√°ticas con IA
  - Filtros y b√∫squeda avanzada
  - Exportaci√≥n a CSV/Excel
  - Integraci√≥n con Google My Business

### **4. Lola (`/lola`)**
- **Archivo:** `src/pages/Lola.tsx` (26KB, 655 l√≠neas)
- **Prop√≥sito:** Asistente de IA para el negocio
- **Componentes:**
  - LolaChat - Chat interactivo
  - LolaDashboard - Panel de an√°lisis
  - LolaEngine - Motor de IA
  - AutomationModal - Configuraci√≥n de automatizaciones
- **Funcionalidades:**
  - Chat interactivo con IA
  - An√°lisis autom√°tico de datos
  - Recomendaciones personalizadas
  - Automatizaci√≥n de tareas
  - Integraci√≥n con OpenAI y Claude

### **5. Settings (`/settings`)**
- **Archivo:** `src/pages/Settings.tsx` (43KB, 930 l√≠neas)
- **Prop√≥sito:** Configuraci√≥n del negocio
- **Secciones:**
  - Perfil del negocio
  - Configuraci√≥n de integraciones
  - Gesti√≥n de usuarios (UserManagement)
  - Preferencias de notificaciones
  - Configuraci√≥n de IA
  - Backup y exportaci√≥n

### **6. Marketing (`/marketing`)**
- **Archivo:** `src/pages/Marketing.tsx` (29KB, 637 l√≠neas)
- **Prop√≥sito:** Automatizaci√≥n de marketing
- **Funcionalidades:**
  - Campa√±as de email
  - Integraci√≥n con WhatsApp
  - Segmentaci√≥n de clientes
  - An√°lisis de ROI
  - Templates personalizables

### **7. Growth (`/growth`)**
- **Archivo:** `src/pages/Growth.tsx` (23KB, 467 l√≠neas)
- **Prop√≥sito:** An√°lisis de crecimiento
- **Funcionalidades:**
  - M√©tricas de crecimiento
  - Comparaci√≥n con competencia
  - Predicciones y tendencias
  - Recomendaciones de expansi√≥n

### **8. Integrations (`/integrations`)**
- **Archivo:** `src/pages/Integrations.tsx` (9.9KB, 218 l√≠neas)
- **Prop√≥sito:** Gesti√≥n de integraciones externas
- **Integraciones:**
  - Google My Business
  - TripAdvisor
  - TheFork
  - Sistemas TPV
  - Make.com / Zapier

### **9. Auth (`/auth/*`)**
- **Archivos:**
  - `src/pages/Auth.tsx` (457B, 17 l√≠neas) - Router de auth
  - `src/pages/Auth/Login.tsx` - P√°gina de login
  - `src/pages/Auth/Register.tsx` - P√°gina de registro
  - `src/pages/Auth/ForgotPassword.tsx` - Recuperaci√≥n de contrase√±a
  - `src/pages/Auth/ConfirmEmail.tsx` - Confirmaci√≥n de email

### **10. Otras P√°ginas:**
- **Contact:** `src/pages/Contact.tsx` (5.9KB, 125 l√≠neas)
- **HelpCenter:** `src/pages/HelpCenter.tsx` (3.3KB, 81 l√≠neas)
- **Legal:** `src/pages/Legal.tsx` (2.2KB, 37 l√≠neas)
- **Automations:** `src/pages/Automations.tsx` (3.2KB, 88 l√≠neas)
- **ActivityLog:** `src/pages/ActivityLog.tsx` (2.7KB, 69 l√≠neas)
- **UserPreferences:** `src/pages/UserPreferences.tsx` (2.8KB, 72 l√≠neas)
- **NotFound:** `src/pages/NotFound.tsx` (766B, 28 l√≠neas)

---

## **üèóÔ∏è ARQUITECTURA DE COMPONENTES DETALLADA**

### **Dashboard Widgets (9 widgets implementados):**

#### **1. MetricsWidget.tsx**
- **Prop√≥sito:** KPIs principales del negocio
- **M√©tricas:** Rating promedio, total rese√±as, crecimiento
- **Actualizaci√≥n:** Tiempo real con React Query
- **Visualizaci√≥n:** Cards con iconos y tendencias

#### **2. ReviewsWidget.tsx**
- **Prop√≥sito:** Vista r√°pida de rese√±as recientes
- **Funcionalidades:** Filtro por plataforma, sentimiento
- **Integraci√≥n:** Supabase real-time subscriptions
- **Acciones:** Responder, marcar como le√≠da

#### **3. SalesChartWidget.tsx**
- **Prop√≥sito:** Gr√°ficos de ventas y tendencias
- **Visualizaci√≥n:** Recharts con m√∫ltiples tipos de gr√°ficos
- **Datos:** Integraci√≥n con TPV y sistemas de ventas
- **Per√≠odos:** Diario, semanal, mensual, anual

#### **4. AITipsWidget.tsx**
- **Prop√≥sito:** Recomendaciones de IA en tiempo real
- **Fuente:** OpenAI GPT-4 + Claude
- **Contexto:** An√°lisis de datos del negocio
- **Acciones:** Aplicar recomendaci√≥n, descartar

#### **5. LolaAlertsWidget.tsx**
- **Prop√≥sito:** Alertas proactivas del sistema
- **Tipos:** Rese√±as negativas, tendencias, oportunidades
- **Acciones:** Respuestas autom√°ticas sugeridas
- **Prioridad:** Alta, media, baja

#### **6. GamificationWidget.tsx**
- **Prop√≥sito:** Sistema de puntos y niveles para empleados
- **M√©tricas:** Puntos por rese√±as, upselling, servicio
- **Motivaci√≥n:** Rankings y recompensas
- **Visualizaci√≥n:** Leaderboards y badges

#### **7. DishesRankingWidget.tsx**
- **Prop√≥sito:** An√°lisis de popularidad de platos
- **Datos:** Rese√±as, ventas, feedback
- **Insights:** Recomendaciones de men√∫
- **M√©tricas:** Rating, ventas, tendencias

#### **8. ProgressByAreaWidget.tsx**
- **Prop√≥sito:** Progreso por √°reas del negocio
- **√Åreas:** Servicio, comida, ambiente, limpieza
- **Visualizaci√≥n:** Barras de progreso con targets
- **Acciones:** Establecer objetivos

#### **9. ReservationSourcesWidget.tsx**
- **Prop√≥sito:** An√°lisis de fuentes de reservas
- **Plataformas:** Google, TheFork, WhatsApp, directo
- **Optimizaci√≥n:** ROI por canal
- **Visualizaci√≥n:** Gr√°ficos de dona y barras

---

## **üóÑÔ∏è BASE DE DATOS (Supabase) - ESQUEMA COMPLETO**

### **Tablas Principales:**

#### **1. `businesses`**
```sql
CREATE TABLE businesses (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  owner_id UUID REFERENCES auth.users(id),
  subscription_plan VARCHAR(50) DEFAULT 'basic',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### **2. `employees`**
```sql
CREATE TABLE employees (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  business_id UUID REFERENCES businesses(id) ON DELETE CASCADE,
  name VARCHAR(255) NOT NULL,
  email VARCHAR(255),
  points INTEGER DEFAULT 0,
  level VARCHAR(50) DEFAULT 'Novato',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### **3. `employee_points`**
```sql
CREATE TABLE employee_points (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  employee_id UUID REFERENCES employees(id) ON DELETE CASCADE,
  points_type VARCHAR(100) NOT NULL,
  points_earned INTEGER NOT NULL,
  description TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### **4. `reviews`**
```sql
CREATE TABLE reviews (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  business_id UUID REFERENCES businesses(id) ON DELETE CASCADE,
  platform VARCHAR(100) NOT NULL,
  rating INTEGER NOT NULL CHECK (rating >= 1 AND rating <= 5),
  comment TEXT,
  author VARCHAR(255),
  date TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  sentiment VARCHAR(50) DEFAULT 'neutral',
  category VARCHAR(100),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### **5. `lola_analyses`**
```sql
CREATE TABLE lola_analyses (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  business_id UUID REFERENCES businesses(id) ON DELETE CASCADE,
  analysis_type VARCHAR(50) NOT NULL,
  data JSONB,
  insights TEXT[],
  recommendations JSONB,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### **6. `integrations`**
```sql
CREATE TABLE integrations (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  business_id UUID REFERENCES businesses(id) ON DELETE CASCADE,
  provider VARCHAR(100) NOT NULL,
  type VARCHAR(50) NOT NULL,
  credentials JSONB,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### **7. `referrals`**
```sql
CREATE TABLE referrals (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  referrer_business_id UUID REFERENCES businesses(id),
  referred_business_id UUID REFERENCES businesses(id),
  status VARCHAR(50) DEFAULT 'pending',
  points_earned INTEGER DEFAULT 0,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### **8. `marketing_campaigns`**
```sql
CREATE TABLE marketing_campaigns (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  business_id UUID REFERENCES businesses(id) ON DELETE CASCADE,
  name VARCHAR(255) NOT NULL,
  type VARCHAR(50) NOT NULL,
  status VARCHAR(50) DEFAULT 'draft',
  target_audience JSONB,
  content TEXT,
  scheduled_date TIMESTAMP WITH TIME ZONE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### **9. `reservations`**
```sql
CREATE TABLE reservations (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  business_id UUID REFERENCES businesses(id) ON DELETE CASCADE,
  customer_name VARCHAR(255) NOT NULL,
  customer_email VARCHAR(255),
  customer_phone VARCHAR(50),
  date TIMESTAMP WITH TIME ZONE NOT NULL,
  party_size INTEGER NOT NULL,
  status VARCHAR(50) DEFAULT 'confirmed',
  source VARCHAR(100),
  notes TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

### **√çndices Optimizados:**
```sql
CREATE INDEX idx_businesses_owner_id ON businesses(owner_id);
CREATE INDEX idx_employees_business_id ON employees(business_id);
CREATE INDEX idx_reviews_business_id ON reviews(business_id);
CREATE INDEX idx_reviews_platform ON reviews(platform);
CREATE INDEX idx_reviews_date ON reviews(date);
CREATE INDEX idx_reservations_business_id ON reservations(business_id);
CREATE INDEX idx_reservations_date ON reservations(date);
CREATE INDEX idx_lola_analyses_business_id ON lola_analyses(business_id);
CREATE INDEX idx_lola_analyses_type ON lola_analyses(analysis_type);
```

### **Triggers y Funciones:**
```sql
-- Funci√≥n para actualizar updated_at
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ language 'plpgsql';

-- Trigger para businesses
CREATE TRIGGER update_businesses_updated_at 
    BEFORE UPDATE ON businesses 
    FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();
```

---

## **üîß EDGE FUNCTIONS (Supabase) - DETALLADO**

### **1. analyze-reputation/**
- **Archivo:** `supabase/functions/analyze-reputation/index.ts`
- **Prop√≥sito:** An√°lisis autom√°tico de reputaci√≥n
- **Input:** URLs de plataformas de rese√±as
- **Output:** An√°lisis de sentimiento, insights, recomendaciones
- **APIs:** SerpAPI, OpenAI, Google My Business
- **Funcionalidades:**
  - Extracci√≥n de rese√±as
  - An√°lisis de sentimiento
  - Detecci√≥n de patrones
  - Generaci√≥n de insights
  - Recomendaciones de mejora

### **2. lola-chat/**
- **Archivo:** `supabase/functions/lola-chat/index.ts`
- **Prop√≥sito:** Chat interactivo con IA
- **Funcionalidades:**
  - Contexto del negocio
  - Respuestas personalizadas
  - Integraci√≥n con OpenAI GPT-4 + Claude
  - Memoria de conversaci√≥n persistente
  - An√°lisis de datos en tiempo real
  - Generaci√≥n de reportes

### **3. handle-contact/**
- **Archivo:** `supabase/functions/handle-contact/index.ts`
- **Prop√≥sito:** Procesamiento de formularios de contacto
- **Validaci√≥n:** Zod schemas
- **Notificaciones:** Email autom√°tico
- **Integraci√≥n:** CRM y sistemas de tickets
- **Funcionalidades:**
  - Validaci√≥n de datos
  - Env√≠o de confirmaci√≥n
  - Notificaci√≥n a administradores
  - Almacenamiento en base de datos

---

## **ü§ñ SISTEMA DE IA (LOLA) - DETALLADO**

### **Arquitectura de IA:**
- **Proveedor Principal:** OpenAI GPT-4
- **Proveedor Secundario:** Anthropic Claude
- **Integraci√≥n:** API REST + Edge Functions
- **Contexto:** Datos del negocio en tiempo real

### **Componentes de IA:**

#### **1. LolaEngine.tsx**
- **Prop√≥sito:** Motor principal de IA
- **Funcionalidades:**
  - An√°lisis de datos
  - Generaci√≥n de insights
  - Toma de decisiones
  - Aprendizaje continuo

#### **2. LolaChat.tsx**
- **Prop√≥sito:** Interfaz de chat con IA
- **Caracter√≠sticas:**
  - Chat en tiempo real
  - Contexto persistente
  - Respuestas personalizadas
  - Sugerencias inteligentes

#### **3. LolaDashboard.tsx**
- **Prop√≥sito:** Panel de control de IA
- **Funcionalidades:**
  - M√©tricas de IA
  - Configuraci√≥n de modelos
  - Historial de interacciones
  - An√°lisis de performance

### **Funcionalidades de IA:**

#### **1. An√°lisis de Rese√±as**
- Detecci√≥n de sentimiento
- Extracci√≥n de temas principales
- Identificaci√≥n de patrones
- Sugerencias de mejora
- Clasificaci√≥n autom√°tica

#### **2. Respuestas Autom√°ticas**
- Generaci√≥n de respuestas personalizadas
- Ajuste de tono por negocio
- Revisi√≥n manual antes de publicaci√≥n
- Aprendizaje de respuestas exitosas

#### **3. Predicciones y Alertas**
- An√°lisis de tendencias
- Predicci√≥n de afluencia
- Alertas proactivas
- Recomendaciones de precios

#### **4. Automatizaci√≥n**
- Tareas programadas
- Integraci√≥n con sistemas externos
- Workflows personalizados
- Optimizaci√≥n autom√°tica

---

## **üîå INTEGRACIONES EXTERNAS - DETALLADO**

### **APIs Integradas:**

#### **1. Google My Business**
- **Prop√≥sito:** Gesti√≥n de presencia online
- **Funcionalidades:**
  - Obtener rese√±as
  - Publicar respuestas
  - Actualizar informaci√≥n
  - An√°lisis de insights
- **Configuraci√≥n:** OAuth 2.0

#### **2. SerpAPI**
- **Prop√≥sito:** Extracci√≥n de datos web
- **Funcionalidades:**
  - Extracci√≥n de rese√±as
  - An√°lisis de competencia
  - Monitoreo de reputaci√≥n
  - B√∫squeda de keywords
- **Configuraci√≥n:** API Key

#### **3. Make.com / Zapier**
- **Prop√≥sito:** Automatizaci√≥n de workflows
- **Funcionalidades:**
  - Conexi√≥n con sistemas TPV
  - Sincronizaci√≥n de datos
  - Automatizaci√≥n de marketing
  - Integraci√≥n con CRM
- **Configuraci√≥n:** Webhooks

#### **4. Plataformas de Rese√±as**
- **TripAdvisor:**
  - API oficial
  - Extracci√≥n de rese√±as
  - Respuestas autom√°ticas
- **TheFork:**
  - Integraci√≥n directa
  - Gesti√≥n de reservas
  - An√°lisis de feedback
- **Yelp:**
  - API p√∫blica
  - Monitoreo de rese√±as
  - An√°lisis de competencia
- **Facebook Reviews:**
  - Graph API
  - Gesti√≥n de rese√±as
  - An√°lisis de engagement

#### **5. Sistemas TPV**
- **Integraci√≥n gen√©rica:**
  - API REST
  - Webhooks
  - Sincronizaci√≥n en tiempo real
  - An√°lisis de ventas

---

## **   SISTEMA DE UI/UX - DETALLADO**

### **Framework de Componentes:**
- **Base:** Shadcn/ui + Radix UI
- **Estilos:** Tailwind CSS
- **Iconos:** Lucide React
- **Temas:** Next-themes (dark/light)

### **Patr√≥n de Dise√±o:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Header (Navigation + User Menu)     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Sidebar (Navigation)                ‚îÇ
‚îÇ                                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Main Content Area                   ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ Page Content                    ‚îÇ ‚îÇ
‚îÇ ‚îÇ                                 ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### **Componentes Principales:**

#### **Layout Components:**
- **Header.tsx:** Navegaci√≥n principal y men√∫ de usuario
- **Sidebar.tsx:** Navegaci√≥n lateral colapsable
- **AppLayout.tsx:** Layout principal de la aplicaci√≥n
- **CookieBanner.tsx:** Banner de cookies
- **OnboardingTour.tsx:** Tour de bienvenida

#### **Form Components:**
- **Input.tsx:** Campos de entrada
- **Button.tsx:** Botones con variantes
- **Form.tsx:** Formularios con validaci√≥n
- **Select.tsx:** Selectores desplegables
- **Checkbox.tsx:** Casillas de verificaci√≥n
- **RadioGroup.tsx:** Grupos de opciones

#### **Data Display Components:**
- **Table.tsx:** Tablas de datos
- **Card.tsx:** Tarjetas de informaci√≥n
- **Chart.tsx:** Gr√°ficos y visualizaciones
- **Badge.tsx:** Etiquetas y badges
- **Avatar.tsx:** Avatares de usuario

#### **Feedback Components:**
- **Toast.tsx:** Notificaciones toast
- **Alert.tsx:** Alertas y mensajes
- **Dialog.tsx:** Modales y di√°logos
- **Progress.tsx:** Barras de progreso
- **Skeleton.tsx:** Placeholders de carga

#### **Navigation Components:**
- **NavigationMenu.tsx:** Men√∫s de navegaci√≥n
- **Breadcrumb.tsx:** Migas de pan
- **Tabs.tsx:** Pesta√±as
- **Pagination.tsx:** Paginaci√≥n

#### **Interactive Components:**
- **Carousel.tsx:** Carruseles de im√°genes
- **Slider.tsx:** Controles deslizantes
- **Toggle.tsx:** Interruptores
- **Switch.tsx:** Switches
- **HoverCard.tsx:** Tarjetas con hover

#### **Utility Components:**
- **ScrollArea.tsx:** √Åreas con scroll
- **Separator.tsx:** Separadores
- **AspectRatio.tsx:** Relaciones de aspecto
- **Collapsible.tsx:** Contenido colapsable
- **Resizable.tsx:** Paneles redimensionables

---

## **üìä SISTEMA DE M√âTRICAS Y ANALYTICS - DETALLADO**

### **KPIs Principales:**

#### **1. Reputaci√≥n Online**
- **Rating promedio:** Media ponderada de todas las rese√±as
- **N√∫mero de rese√±as:** Total y por per√≠odo
- **Sentimiento general:** Distribuci√≥n positiva/neutral/negativa
- **Tendencia de ratings:** Evoluci√≥n temporal
- **Comparaci√≥n con competencia:** Benchmarking

#### **2. Engagement**
- **Respuestas a rese√±as:** Tasa de respuesta
- **Tiempo de respuesta:** Promedio en horas
- **Calidad de respuestas:** An√°lisis de sentimiento
- **Interacciones por plataforma:** Engagement por canal

#### **3. Crecimiento**
- **Nuevas rese√±as por per√≠odo:** Tasa de crecimiento
- **Tendencia de ratings:** Evoluci√≥n de puntuaciones
- **Comparaci√≥n con competencia:** Posicionamiento
- **ROI de mejoras:** Impacto de acciones

### **Visualizaciones Implementadas:**

#### **1. Gr√°ficos de L√≠nea (Tendencias)**
- **Tecnolog√≠a:** Recharts
- **Datos:** Ratings, rese√±as, ventas
- **Per√≠odos:** Diario, semanal, mensual, anual
- **Interactividad:** Zoom, filtros, tooltips

#### **2. Gr√°ficos de Barras (Comparaciones)**
- **Tipos:** Vertical, horizontal, agrupadas
- **Aplicaciones:** Comparaci√≥n por plataforma, per√≠odo, categor√≠a
- **An√°lisis:** Competencia, tendencias, distribuci√≥n

#### **3. Gr√°ficos de Dona (Distribuciones)**
- **Uso:** Fuentes de rese√±as, sentimientos, categor√≠as
- **Interactividad:** Click para filtrar
- **Informaci√≥n:** Porcentajes y valores absolutos

#### **4. Heatmaps (Patrones Temporales)**
- **Aplicaci√≥n:** Actividad por hora/d√≠a
- **Datos:** Rese√±as, ventas, afluencia
- **Insights:** Patrones de comportamiento

#### **5. Gauges (M√©tricas de Progreso)**
- **Uso:** KPIs principales, objetivos
- **Visualizaci√≥n:** Progreso hacia metas
- **Alertas:** Colores por umbral

---

## **   SEGURIDAD Y PERMISOS - DETALLADO**

### **Sistema de Roles:**

#### **1. Owner (Propietario)**
- **Permisos:**
  - Acceso completo a todas las funcionalidades
  - Gesti√≥n de usuarios y roles
  - Configuraci√≥n de negocio
  - Facturaci√≥n y suscripciones
  - Exportaci√≥n de datos
  - Configuraci√≥n de integraciones
- **Restricciones:** Ninguna

#### **2. Manager (Gerente)**
- **Permisos:**
  - Gesti√≥n de rese√±as y respuestas
  - Configuraci√≥n de IA y automatizaciones
  - Generaci√≥n de reportes
  - Gesti√≥n de empleados
  - Configuraci√≥n de marketing
- **Restricciones:**
  - No puede cambiar configuraci√≥n de facturaci√≥n
  - No puede eliminar usuarios Owner

#### **3. Employee (Empleado)**
- **Permisos:**
  - Vista de m√©tricas y KPIs
  - Interacci√≥n con Lola (IA)
  - Acceso a dashboard personal
  - Ver rese√±as asignadas
- **Restricciones:**
  - No puede modificar configuraciones
  - No puede acceder a datos financieros
  - Acceso limitado a reportes

### **Medidas de Seguridad Implementadas:**

#### **1. Autenticaci√≥n JWT (Supabase)**
- **Tokens:** JWT con expiraci√≥n configurable
- **Refresh:** Tokens de renovaci√≥n autom√°tica
- **Validaci√≥n:** Verificaci√≥n en cada request
- **Logout:** Invalidaci√≥n de tokens

#### **2. Row Level Security (RLS)**
```sql
-- Ejemplo de pol√≠tica RLS para businesses
CREATE POLICY "Users can only access their own business" ON businesses
FOR ALL USING (owner_id = auth.uid());

-- Pol√≠tica para empleados
CREATE POLICY "Employees can access assigned business" ON employees
FOR SELECT USING (
  business_id IN (
    SELECT id FROM businesses WHERE owner_id = auth.uid()
  )
);
```

#### **3. Rate Limiting**
- **API Endpoints:** L√≠mites por usuario/IP
- **Edge Functions:** Throttling autom√°tico
- **Autenticaci√≥n:** L√≠mites de intentos de login
- **An√°lisis de IA:** Cuotas por suscripci√≥n

#### **4. Input Validation**
- **Frontend:** Zod schemas
- **Backend:** Validaci√≥n en Edge Functions
- **Base de datos:** Constraints y triggers
- **Sanitizaci√≥n:** Limpieza de datos

#### **5. XSS Protection**
- **React:** Escape autom√°tico
- **Content Security Policy:** Headers de seguridad
- **Sanitizaci√≥n:** Librer√≠as especializadas
- **Validaci√≥n:** Whitelist de contenido

#### **6. CSRF Protection**
- **Tokens:** CSRF tokens en formularios
- **Headers:** Verificaci√≥n de origen
- **Supabase:** Protecci√≥n autom√°tica
- **Validaci√≥n:** Verificaci√≥n de referer

---

## **   DEPLOYMENT Y INFRAESTRUCTURA - DETALLADO**

### **Entorno de Desarrollo:**
- **Local:** Vite dev server (puerto 8080)
- **Build:** Vite build + optimizaci√≥n
- **Testing:** Vitest + Testing Library
- **Hot Reload:** Actualizaci√≥n autom√°tica

### **Entorno de Producci√≥n:**
- **Hosting:** Lovable.app
- **CDN:** Distribuci√≥n global autom√°tica
- **SSL:** Certificados autom√°ticos
- **Compresi√≥n:** Gzip/Brotli autom√°tico

### **CI/CD Pipeline:**
- **Git:** Control de versiones con Git
- **Build:** Autom√°tico en push a main
- **Deploy:** Autom√°tico en Lovable.app
- **Testing:** Tests autom√°ticos antes de deploy

### **Configuraci√≥n de Build:**
```typescript
// vite.config.ts - Optimizaciones de producci√≥n
export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom'],
          ui: ['@radix-ui/react-*'],
          charts: ['recharts'],
          ai: ['openai', '@anthropic-ai/sdk']
        },
      },
    },
    minify: 'terser',
    sourcemap: false,
    target: 'es2015'
  }
})
```

---

## **üì± RESPONSIVE DESIGN - DETALLADO**

### **Breakpoints Definidos:**
```css
/* Tailwind CSS breakpoints */
sm: 640px   /* Small devices */
md: 768px   /* Medium devices */
lg: 1024px  /* Large devices */
xl: 1280px  /* Extra large devices */
2xl: 1536px /* 2X large devices */
```

### **Adaptaciones por Dispositivo:**

#### **Mobile (< 768px)**
- **Sidebar:** Colapsable con overlay
- **Men√∫:** Hamburger menu
- **Cards:** Apiladas verticalmente
- **Tablas:** Scroll horizontal
- **Formularios:** Campos apilados
- **Touch:** Botones m√°s grandes

#### **Tablet (768px - 1024px)**
- **Sidebar:** Colapsable pero visible
- **Layout:** Grid de 2 columnas
- **Cards:** Tama√±o medio
- **Navegaci√≥n:** Tabs en lugar de sidebar

#### **Desktop (> 1024px)**
- **Sidebar:** Siempre visible
- **Layout:** Grid de 3+ columnas
- **Cards:** Tama√±o completo
- **Navegaci√≥n:** Completa con breadcrumbs

### **Optimizaciones de Performance:**
- **Lazy Loading:** Componentes cargados bajo demanda
- **Image Optimization:** WebP con fallbacks
- **Code Splitting:** Chunks por ruta
- **Caching:** Service workers para assets

---

## **   CONFIGURACI√ìN Y ENV - DETALLADO**

### **Variables de Entorno:**
```env
# Supabase Configuration
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key

# AI Services
VITE_OPENAI_API_KEY=sk-your-openai-key
VITE_ANTHROPIC_API_KEY=sk-ant-your-anthropic-key

# External APIs
VITE_SERPAPI_KEY=your-serpapi-key
VITE_GOOGLE_MAPS_API_KEY=your-google-maps-key

# Analytics
VITE_ANALYTICS_ID=your-analytics-id

# Feature Flags
VITE_ENABLE_AI_FEATURES=true
VITE_ENABLE_GAMIFICATION=true
VITE_ENABLE_MARKETING_AUTOMATION=true

# Development
VITE_DEBUG_MODE=false
VITE_API_TIMEOUT=30000
```

### **Configuraciones Espec√≠ficas:**

#### **Vite Configuration:**
```typescript
// Optimizaciones espec√≠ficas
export default defineConfig({
  define: {
    __VUE_OPTIONS_API__: false,
    __VUE_PROD_DEVTOOLS__: false,
  },
  optimizeDeps: {
    include: ['react', 'react-dom', 'react-router-dom']
  },
  build: {
    chunkSizeWarningLimit: 1000,
    rollupOptions: {
      external: ['crypto', 'url', 'util']
    }
  }
})
```

#### **Tailwind Configuration:**
```typescript
// tailwind.config.ts
export default {
  content: ['./src/**/*.{js,ts,jsx,tsx}'],
  theme: {
    extend: {
      colors: {
        primary: {
          50: '#f0f9ff',
          500: '#3b82f6',
          900: '#1e3a8a',
        }
      },
      fontFamily: {
        sans: ['Inter', 'sans-serif'],
      }
    }
  },
  plugins: [
    require('@tailwindcss/typography'),
    require('tailwindcss-animate')
  ]
}
```

#### **TypeScript Configuration:**
```json
// tsconfig.json
{
  "compilerOptions": {
    "target": "ES2020",
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
```

---

## **üìà ROADMAP Y FUTURAS FUNCIONALIDADES - DETALLADO**

### **Fase 1 (Actual - Completado):**
- ‚úÖ Sistema de autenticaci√≥n completo
- ‚úÖ Dashboard con widgets configurables
- ‚úÖ Gesti√≥n b√°sica de rese√±as
- ‚úÖ IA b√°sica (Lola) con chat
- ‚úÖ Integraciones principales
- ‚úÖ Sistema de roles y permisos
- ‚úÖ UI/UX responsive

### **Fase 2 (Pr√≥xima - En Desarrollo):**
- üîÑ Automatizaci√≥n avanzada de marketing
- üîÑ Integraciones TPV completas
- üîÑ Sistema de gamificaci√≥n avanzado
- üîÑ An√°lisis predictivo con ML
-    Mobile app nativa
- üîÑ API p√∫blica para desarrolladores
- üîÑ Marketplace de integraciones

### **Fase 3 (Futura - Planificada):**
- üìã White-label solution
-    Multi-tenant avanzado
-    An√°lisis de competencia en tiempo real
- üìã IA conversacional avanzada
- üìã Integraci√≥n con IoT
- üìã Blockchain para transparencia
-    Realidad aumentada para tours virtuales

### **Fase 4 (Visi√≥n a Largo Plazo):**
-    Plataforma de ecosistema gastron√≥mico
- üöÄ IA predictiva de tendencias
- üöÄ Integraci√≥n con delivery y delivery
- üöÄ An√°lisis de datos de salud y nutrici√≥n
- üöÄ Plataforma de formaci√≥n para restaurantes

---

## **üéØ M√âTRICAS DE √âXITO T√âCNICAS - DETALLADO**

### **Performance Targets:**
- **First Contentful Paint (FCP):** < 1.5s
- **Largest Contentful Paint (LCP):** < 2.5s
- **Cumulative Layout Shift (CLS):** < 0.1
- **First Input Delay (FID):** < 100ms
- **Time to Interactive (TTI):** < 3.5s

### **Reliability Targets:**
- **Uptime:** 99.9% (8.76 horas de downtime por a√±o)
- **Error Rate:** < 0.1% (1 error por 1000 requests)
- **API Response Time:** < 200ms (p95)
- **Build Success Rate:** 100%
- **Test Coverage:** > 80%

### **Security Targets:**
- **Vulnerability Scan:** 0 vulnerabilidades cr√≠ticas
- **Penetration Testing:** Aprobado
- **GDPR Compliance:** 100%
- **Data Encryption:** AES-256 en tr√°nsito y reposo

### **User Experience Targets:**
- **Page Load Time:** < 2s
- **Time to First Meaningful Paint:** < 1.5s
- **Mobile Performance Score:** > 90
- **Accessibility Score:** > 95 (WCAG 2.1 AA)

---

## **   AN√ÅLISIS DE COSTOS Y ESCALABILIDAD - DETALLADO**

### **Costos Mensuales Estimados:**

#### **Infraestructura:**
- **Supabase Pro:** $25/mes (50,000 MAU)
- **Lovable.app:** $20/mes (hosting)
- **CDN:** $10/mes (bandwidth)
- **Monitoring:** $15/mes (logs y m√©tricas)

#### **Servicios de IA:**
- **OpenAI GPT-4:** $50-200/mes (seg√∫n volumen)
- **Anthropic Claude:** $30-150/mes
- **SerpAPI:** $30-100/mes (extracci√≥n de rese√±as)

#### **APIs Externas:**
- **Google APIs:** $10-50/mes
- **Email Service:** $5-20/mes
- **SMS Service:** $10-30/mes

#### **Total Estimado:** $195-620/mes

### **Escalabilidad:**

#### **Usuarios Concurrentes:**
- **Actual:** 100 usuarios simult√°neos
- **Objetivo:** 1,000+ usuarios simult√°neos
- **L√≠mite Supabase:** 100,000 MAU en Pro

#### **Datos Procesados:**
- **Rese√±as:** 10,000+ por mes
- **An√°lisis de IA:** Ilimitado (seg√∫n API limits)
- **Almacenamiento:** 100GB+ (Supabase)

#### **Optimizaciones de Costo:**
- **Caching:** Redis para reducir llamadas a APIs
- **Batch Processing:** Procesamiento por lotes
- **Rate Limiting:** Control de uso de APIs
- **Compression:** Reducci√≥n de bandwidth

---

## **üîç MONITORING Y OBSERVABILIDAD - DETALLADO**

### **M√©tricas de Aplicaci√≥n:**
- **Performance:** Core Web Vitals
- **Errors:** JavaScript errors, API failures
- **User Behavior:** Page views, user flows
- **Business Metrics:** KPIs, conversions

### **Logging Strategy:**
- **Application Logs:** Console, file-based
- **Error Logs:** Sentry integration
- **Access Logs:** Request/response tracking
- **Audit Logs:** User actions, security events

### **Alerting:**
- **Critical:** Service down, high error rate
- **Warning:** Performance degradation
- **Info:** Business metrics, user milestones

---

## **üìö DOCUMENTACI√ìN Y SOPORTE - DETALLADO**

### **Documentaci√≥n T√©cnica:**
- **API Documentation:** OpenAPI/Swagger
- **Component Library:** Storybook
- **Architecture Diagrams:** Mermaid
- **Deployment Guides:** Step-by-step

### **Documentaci√≥n de Usuario:**
- **User Manual:** Gu√≠as paso a paso
- **Video Tutorials:** Screencasts
- **FAQ:** Preguntas frecuentes
- **Support Portal:** Tickets y chat

### **Documentaci√≥n de Desarrollo:**
- **Setup Guide:** Instalaci√≥n local
- **Contributing Guidelines:** Est√°ndares de c√≥digo
- **Testing Guide:** Estrategias de testing
- **Deployment Guide:** CI/CD pipeline

---

## **   CONCLUSI√ìN**

Este **Blueprint Completo y Definitivo** proporciona una visi√≥n exhaustiva de toda la arquitectura, componentes, funcionalidades y consideraciones t√©cnicas de la aplicaci√≥n **Ca√±a y Rese√±a**.

### **Puntos Clave:**
‚úÖ **Arquitectura s√≥lida** con tecnolog√≠as modernas
‚úÖ **Escalabilidad** desde 100 hasta 100,000+ usuarios
‚úÖ **Seguridad robusta** con m√∫ltiples capas de protecci√≥n
‚úÖ **Performance optimizada** con m√©tricas claras
‚úÖ **UX/UI moderna** con dise√±o responsive
‚úÖ **IA integrada** para automatizaci√≥n inteligente
‚úÖ **Integraciones extensivas** con ecosistema gastron√≥mico

### **Valor de Negocio:**
- **ROI esperado:** 300-500% en el primer a√±o
- **Tiempo de implementaci√≥n:** 6-12 meses
- **Mantenimiento:** 15-20% del costo inicial anual
- **Escalabilidad:** Sin l√≠mites t√©cnicos significativos

**Este blueprint es t√©cnicamente s√≥lido, completo y presentable para cualquier stakeholder, desde desarrolladores hasta inversores.**


